<!DOCTYPE html>
<html lang="en-us">
  <head><meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta http-equiv="x-ua-compatible" content="ie=edge"><title>Biraj Koirala</title>
    
<link rel="icon" type="image/png" href="/images/favicon.png" />


<link href="https://fonts.googleapis.com/css?family=Open&#43;Sans" rel="stylesheet">
<link href="https://fonts.googleapis.com/css?family=Open&#43;Sans" rel="stylesheet">
<link href="https://fonts.googleapis.com/css?family=Open&#43;Sans" rel="stylesheet"><link rel="stylesheet" type="text/css" href="/css/style.min.217180185aa7085b3123375ed7e910000d4c54331603292dcdb98fcca7a1fc2f.css" integrity="sha256-IXGAGFqnCFsxIzde1&#43;kQAA1MVDMWAyktzbmPzKeh/C8=">
<link rel="stylesheet" type="text/css" href="/css/monokai-sublime.9.15.8.min.min.3a5d282f03108101d715e80fd4c07b55502ec4673fc063f2b6e415d4def5b354.css" integrity="sha256-Ol0oLwMQgQHXFegP1MB7VVAuxGc/wGPytuQV1N71s1Q=">
<link rel="stylesheet" type="text/css" href="/css/icons.min.ee23494515027c9d455d659dd0760f472e9c02e16079f933928bc4820d5b9e58.css" integrity="sha256-7iNJRRUCfJ1FXWWd0HYPRy6cAuFgefkzkovEgg1bnlg=">
<link rel="stylesheet" type="text/css" href="/css/refresh-css.min.4150dea8b1163110505480d97b50425998cd09b589f3ce9f9c36cd2ce2dc64c3.css" integrity="sha256-QVDeqLEWMRBQVIDZe1BCWZjNCbWJ886fnDbNLOLcZMM=">
<link rel="stylesheet" type="text/css" href="/css/devicon.min.min.13fddf418611477a10293a87542de7703396184696bd8cf50642c4c72994c78a.css" integrity="sha256-E/3fQYYRR3oQKTqHVC3ncDOWGEaWvYz1BkLExymUx4o=">

  </head>
  <body>
    
    <div id="preloader">
      <div id="status"></div>
    </div><nav class="navbar is-fresh is-transparent no-shadow" role="navigation" aria-label="main navigation">
  <div class="container">
    <div class="navbar-brand">

      
      
      
      <a class="navbar-item">
        <div class="menu-icon-wrapper left-menu-icon-wrapper" style="visibility: visible;">
          <svg width="1000px" height="1000px">
            <path class="path1" d="M 300 400 L 700 400 C 900 400 900 750 600 850 A 400 400 0 0 1 200 200 L 800 800"></path>
            <path class="path2" d="M 300 500 L 700 500"></path>
            <path class="path3" d="M 700 600 L 300 600 C 100 600 100 200 400 150 A 400 380 0 1 1 200 800 L 800 200"></path>
          </svg>
          <button id="menu-icon-trigger" class="menu-icon-trigger"></button>
        </div>
        <div class="navbar-item left-menu-icon-wrapper">Tags</div>
      </a>

      <div class="navbar-item is-expanded"></div>
      <a class="navbar-item is-hidden-desktop">  
        <div data-target="navbar-menu" class="navbar-item right-menu-icon-wrapper is-hidden-desktop">Menu</div>
        <div data-target="navbar-menu" class="menu-icon-wrapper right-menu-icon-wrapper" style="visibility: visible;">
          <svg width="1000px" height="1000px">
            <path class="path1" d="M 300 400 L 700 400 C 900 400 900 750 600 850 A 400 400 0 0 1 200 200 L 800 800"></path>
            <path class="path2" d="M 300 500 L 700 500"></path>
            <path class="path3" d="M 700 600 L 300 600 C 100 600 100 200 400 150 A 400 380 0 1 1 200 800 L 800 200"></path>
          </svg>
          <button id="menu-icon-trigger" class="menu-icon-trigger"></button>
        </div>
      </a>

    </div>

    

    <div id="navbar-menu" class="navbar-menu is-static">
      <div class="navbar-start">
          <a href='/' class="navbar-item is-secondary">Home</a>
      </div>
      <div class="navbar-end">

        <a href="/about-me/" class="navbar-item is-secondary">About Me</a><a href="/blog/" class="navbar-item is-secondary">Blog</a></div>
    </div>




  </div>
</nav><nav id="navbar-clone" class="navbar is-fresh is-transparent" role="navigation" aria-label="main navigation">
  <div class="container">
      <div class="navbar-brand">
  
        
        
        
        <a class="navbar-item">
          <div class="menu-icon-wrapper left-menu-icon-wrapper" style="visibility: visible;">
            <svg width="1000px" height="1000px">
              <path class="path1" d="M 300 400 L 700 400 C 900 400 900 750 600 850 A 400 400 0 0 1 200 200 L 800 800"></path>
              <path class="path2" d="M 300 500 L 700 500"></path>
              <path class="path3" d="M 700 600 L 300 600 C 100 600 100 200 400 150 A 400 380 0 1 1 200 800 L 800 200"></path>
            </svg>
            <button id="menu-icon-trigger" class="menu-icon-trigger"></button>
          </div>
          <div class="navbar-item left-menu-icon-wrapper">Tags</div>
        </a>
  
        <div class="navbar-item is-expanded"></div>
        <a class="navbar-item is-hidden-desktop">  
          <div data-target="cloned-navbar-menu" class="navbar-item right-menu-icon-wrapper is-hidden-desktop">Menu</div>
          <div data-target="cloned-navbar-menu" class="menu-icon-wrapper right-menu-icon-wrapper" style="visibility: visible;">
            <svg width="1000px" height="1000px">
              <path class="path1" d="M 300 400 L 700 400 C 900 400 900 750 600 850 A 400 400 0 0 1 200 200 L 800 800"></path>
              <path class="path2" d="M 300 500 L 700 500"></path>
              <path class="path3" d="M 700 600 L 300 600 C 100 600 100 200 400 150 A 400 380 0 1 1 200 800 L 800 200"></path>
            </svg>
            <button id="menu-icon-trigger" class="menu-icon-trigger"></button>
          </div>
        </a>
      </div>
  
      
  
      <div id="cloned-navbar-menu" class="navbar-menu is-static">
        <div class="navbar-start">
          <a href='/' class="navbar-item is-secondary">Home</a>
      </div>
        <div class="navbar-end">
          <a href="/about-me/" class="navbar-item is-secondary">About Me</a><a href="/blog/" class="navbar-item is-secondary">Blog</a></div>
      </div>
  
  
  
  
    </div>
  </nav>
<section class="section is-medium">
  <div class="container">
    <div class="columns">
      <div class="column is-centered-tablet-portrait">
        <h1 class="title is-2 section-title">Your first flask project.</h1>
        <h5 class="subtitle is-5 is-muted"></h5>
        <div class="divider"></div>
        
        <section class="section content has-text-justified">
          <p>When I started my journey of Python, the first web framework that I learned was Flask. It was a useful tool to showcase my projects and create simple simulations and dashboards. One of the starter project that I did was ‘Contact Card’. This project is a simple web application that allows user to generate a QR code from a text/url.</p>
<p><i> <h5> So, what is a QR code? </h5> </i></p>
<p>QR (Quick Response) codes are two dimensional matrix that stores some information scattered across the messy lines and chaotic geometric shapes. They come in multiple shapes, sizes , colors and are used to link to a text, marketing campaignes , business card. One popular usecase is Snapcodes.</p>
<br><br>
<div class="columns is-centered container">
    <div class="column is-one-third">
        <figure><img class="rounded-corners" src="/blog/01.contact-card/snap_hu6e6c2387919543e7d81bcdb8a4b83b22_87968_380x420_resize_q75_box.jpg" 
                width="380" 
                height="420"></figure>
    </div>
    <div class="column is-one-third">
        <figure><img class="rounded-corners" src="/blog/01.contact-card/small_hu8732f3d29b42d07e106121b5e3b0bcb3_1250_380x420_resize_q75_box.jpg" 
                width="380" 
                height="420"></figure>
    </div>

    <div class="column is-one-third">
        <figure><img class="rounded-corners" src="/blog/01.contact-card/bar-code_hu30e2fe17a5dbb93ddb1d34c4e93bd2a3_105227_380x420_resize_q75_box.jpg" 
                width="380" 
                height="420"></figure>
    </div>
</div>
<p><i><figcaption>The images above show that QR code can be of different types,sizes and color. </figcaption></i></p>
<br><br>
<p><i> <h5> And why is the project named Contact Card? </h5> </i></p>
<p>This project explores a single usecase of QR code - creating your contact information. You may store simple textual information about yourself or add a link that redirects to your bio in LinkedIn/twitter/facebook/personal website.</p>
<p>Here, I would like to explain three features of flask . For the complete code please visit <a href="https://github.com/biraj094/contact_card">Github</a>.</p>
<br><br>
<h4 class="subtitle is-4">1. Using dynamic routes</h4>

<p>Dynamic routing is an approach of selecting paths based on real time changes. Say, you are creating a route <code>/profile</code>, to show profile of 50 students in a class. However, the same route can show the personalized profile of each student if we associate a student to an id. We can do so by making our route dynamic.</p>
<pre><code>@app.route(’/profile/&lt;int:id&gt;’,methods= [’GET’])
def profile(id):
 # Create different profile for different user.
</code></pre><p>Notice, how <code>id</code> parameter is passed to the function <code>profile</code> which implies that personalized information can be returned to the same route.</p>
<p>Thus,
<a href="http://www.example.com/profile/1">www.example.com/profile/1</a> points to personalized page for student A and
<a href="http://www.example.com/profile/2">www.example.com/profile/2</a> points to personalized page for student B and so on.</p>
<p>Similar approach was used to pass the url that generated QR code. However, Flask throws an error if the text or the url contains  backslash ‘/’. A workaround for this was <code>/display/<a href="path:url">path:url</a> </code>Specifying the url as path allowed us to send any type of url to another page without any error.</p>
<pre><code>@app.route(’/display/&lt;path:url&gt;’,methods=[’POST’,’GET’]) 
</code></pre><br>
<h4 class="subtitle is-4">2. Returning File Object</h4>

<p>It is not necessary to render a template for each route. You can return any type of file you wish using <code>send_file</code>. For this project, I have added a feature to download the QR image as attachment when <code> /download </code> route is called. The name and type of the file must be added.</p>
<pre><code>return send_file(str_io,
                attachment_filename=”my_image.png”,
                mimetype=’image/png’,
                as_attachment=True)
</code></pre><p>The type of file you wish to return is specified in the mimetype attribute .The image, “my_image.png” is converted to a string object . Since, the <code>as_attachment</code> is set to <code>True</code>, the file is downloaded.</p>
<br><br>
<h4 class="subtitle is-4">3. Temporary storage of files</h4>

<pre><code> with NamedTemporaryFile(delete=True) as tmp:
    qrimage.save(tmp.name)
    str_io = io.BytesIO(tmp.read())
</code></pre><p><code>NamedTemporaryFile</code> is used to return a file type object which can be stored temporarily. The QR object is saved using a temporary name and is converted to an IO object.Since I just wanted to display the picture and not store it in the project directory, I set the <code>delete</code> parameter to <code>True</code> .The <code>BytesIO</code> object is just a chunk of memory that behaves like a file.</p>

        </section>
      </div>
    </div>
  </div>  
  <div class="container">
    <div class="columns">
      <div class="column has-text-right is-family-monospace is-centered-tablet-portrait">
        Last modified:1 November 2020</div>
    </div>
  </div></section><footer class="footer footer-dark">
  <div class="container">
    <div class="columns">
      <div class="column">
        <img src="/footer.svg" alt="">
        
      </div>
      
    <div class="column">
        <div class="footer-column">
          <div class="footer-header">
              <h3>Credits</h3>
          </div>
          <ul class="link-list">
            <li>
                <a href="https://github.com/PippoRJ/hugo-refresh">
                  <span class="icon"><i class="fa fa-cube"></i></span>
                  Hugo-Refresh
                </a>
              </li>
            
          </ul>
        </div>
      </div>
    
      <div class="column">
        <div class="footer-column">
          <div class="footer-header">
              <h3>Contacts</h3>
          </div>
          <ul class="link-list">
            <li>
              <a href="https://www.linkedin.com/in/biraj-koirala/" target="_blank">
                <span class="icon"><i class="fa fa-linkedin"></i></span>
                Linkedin
              </a>
            </li>
            <li>
              <a href="mailto:koiralabiraj@gmail.com" target="_blank">
                <span class="icon"><i class="fa fa-envelope"></i></span>
                koiralabiraj@gmail.com
              </a>
            </li>
          </ul>
        </div>
      </div>

      <div class="column">
        <div class="footer-column">
          <div class="footer-header">
              <h3>Copyright</h3>
          </div>
          <ul class="link-list">
            <li>
              <a>
                <span class="icon"><i class="fa fa-copyright"></i></span>
                Biraj Koirala - 2020
              </a>
            </li>
          </ul>
        </div>
      </div>

    </div>
  </div>
</footer>
    <div id="backtotop"><a href="#"></a></div><div class="sidebar">
  <div class="sidebar-header"><img src="/sidebar.svg" alt="">
    
    <a class="sidebar-close" href="javascript:void(0);">
      <i data-feather="x"></i>
    </a>
  </div>
  <div class="inner">
    <ul class="sidebar-menu">
      <li class="no-children">
          <a href="/tags">
            <div class="columns">
              <table width="100%">  
                <tr>
                  <td class="">
                    <span class="icon"><i class="fa fa-cubes"></i></span>All Tags
                  </td>
                  <td class="has-text-right" >
                      
                  </td>
                </tr>
              </table>
            </div>
          </a>
      <li class="no-children">
          <a href="/tags/flask">
            <div class="columns">
              
              <table width="100%">  
                  <tr>
                    <td class=""><span class="icon"><i class="fa fa-cube"></i></span>flask</td>
                    <td class="has-text-right" >
                        <div class="tag-number">1</div>
                      
                    </td>
                    
                  </tr>
              </table>
              
            </div>
          </a>
      </li>
      <li class="no-children">
          <a href="/tags/python">
            <div class="columns">
              
              <table width="100%">  
                  <tr>
                    <td class=""><span class="icon"><i class="fa fa-cube"></i></span>python</td>
                    <td class="has-text-right" >
                        <div class="tag-number">1</div>
                      
                    </td>
                    
                  </tr>
              </table>
              
            </div>
          </a>
      </li></ul>
  </div>
</div>


<script src="/js/jquery-2.2.4.min.js"></script>
<script src="/js/feather.4.22.0.min.js"></script>
<script src="/js/modernizr-2.8.3.min.js"></script>
<script src="/js/refresh.min.js"></script>
<script src="/js/highlight.9.15.8.pack.min.js"></script>
<script src="/js/highlightjs-line-numbers.2.7.0.min.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
<script>hljs.initLineNumbersOnLoad();</script>
<script>
document.addEventListener('DOMContentLoaded', (event) => {
    document.querySelectorAll('.codeinline').forEach((block) => {
      hljs.highlightBlock(block);
    });
  });
</script>



<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

</body>
</html>